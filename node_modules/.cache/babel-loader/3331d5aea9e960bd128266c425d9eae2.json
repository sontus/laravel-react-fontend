{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/react-fontend/src/components/SignIn/Signin.js\";\nimport React, { Component } from \"react\";\nimport { Button, Form, FormGroup, Label, Input } from \"reactstrap\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nexport default class Signin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangehandler = e => {\n      let name = e.target.name;\n      let value = e.target.value;\n      let data = {};\n      data[name] = value;\n      this.setState(data);\n    };\n\n    this.onSignInHandler = () => {\n      this.setState({\n        isLoading: true\n      });\n      axios.post(\"http://localhost:8000/api/user-login\", {\n        email: this.state.email,\n        password: this.state.password\n      }).then(response => {\n        this.setState({\n          isLoading: false\n        });\n\n        if (response.data.status === 200) {\n          localStorage.setItem(\"isLoggedIn\", true);\n          localStorage.setItem(\"userData\", JSON.stringify(response.data.data));\n          this.setState({\n            msg: response.data.message,\n            redirect: true\n          });\n        }\n\n        if (response.data.status === \"failed\" && response.data.success === undefined) {\n          this.setState({\n            errMsgEmail: response.data.validation_error.email,\n            errMsgPwd: response.data.validation_error.password\n          });\n          setTimeout(() => {\n            this.setState({\n              errMsgEmail: \"\",\n              errMsgPwd: \"\"\n            });\n          }, 2000);\n        } else if (response.data.status === \"failed\" && response.data.success === false) {\n          this.setState({\n            errMsg: response.data.message\n          });\n          setTimeout(() => {\n            this.setState({\n              errMsg: \"\"\n            });\n          }, 2000);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      msg: \"\",\n      isLoading: false,\n      redirect: false,\n      errMsgEmail: \"\",\n      errMsgPwd: \"\",\n      errMsg: \"\"\n    };\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/home\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 14\n        }\n      });\n    }\n\n    const login = localStorage.getItem(\"isLoggedIn\");\n\n    if (login) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/home\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 14\n        }\n      });\n    }\n\n    const isLoading = this.state.isLoading;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      className: \"containers\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, \"Email id\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"Enter email\",\n      value: this.state.email,\n      onChange: this.onChangehandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, this.state.msg), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, this.state.errMsgEmail)), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Enter password\",\n      value: this.state.password,\n      onChange: this.onChangehandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, this.state.errMsgPwd)), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }, this.state.errMsg), /*#__PURE__*/React.createElement(Button, {\n      className: \"text-center mb-4\",\n      color: \"success\",\n      onClick: this.onSignInHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }, \"Sign In\", isLoading ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"spinner-border spinner-border-sm ml-5\",\n      role: \"status\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }) : /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 15\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/opt/lampp/htdocs/react-fontend/src/components/SignIn/Signin.js"],"names":["React","Component","Button","Form","FormGroup","Label","Input","axios","Redirect","Signin","constructor","props","onChangehandler","e","name","target","value","data","setState","onSignInHandler","isLoading","post","email","state","password","then","response","status","localStorage","setItem","JSON","stringify","msg","message","redirect","success","undefined","errMsgEmail","validation_error","errMsgPwd","setTimeout","errMsg","catch","error","console","log","render","login","getItem"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Button, Form, FormGroup, Label, Input } from \"reactstrap\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\n\nexport default class Signin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      msg: \"\",\n      isLoading: false,\n      redirect: false,\n      errMsgEmail: \"\",\n      errMsgPwd: \"\",\n      errMsg: \"\",\n    };\n  }\n  onChangehandler = (e) => {\n    let name = e.target.name;\n    let value = e.target.value;\n    let data = {};\n    data[name] = value;\n    this.setState(data);\n  };\n\n  onSignInHandler = () => {\n    this.setState({ isLoading: true });\n    axios\n      .post(\"http://localhost:8000/api/user-login\", {\n        email: this.state.email,\n        password: this.state.password,\n      })\n      .then((response) => {\n        this.setState({ isLoading: false });\n        if (response.data.status === 200) {\n            localStorage.setItem(\"isLoggedIn\", true);\n            localStorage.setItem(\"userData\", JSON.stringify(response.data.data));\n          this.setState({\n            msg: response.data.message,\n            redirect: true,\n          });\n         \n        }\n        if (\n          response.data.status === \"failed\" &&\n          response.data.success === undefined\n        ) {\n          this.setState({\n            errMsgEmail: response.data.validation_error.email,\n            errMsgPwd: response.data.validation_error.password,\n          });\n          setTimeout(() => {\n            this.setState({ errMsgEmail: \"\", errMsgPwd: \"\" });\n          }, 2000);\n        } else if (\n          response.data.status === \"failed\" &&\n          response.data.success === false\n        ) {\n          this.setState({\n            errMsg: response.data.message,\n          });\n          setTimeout(() => {\n            this.setState({ errMsg: \"\" });\n          }, 2000);\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to=\"/home\" />;\n    }\n    const login = localStorage.getItem(\"isLoggedIn\");\n    if (login) {\n      return <Redirect to=\"/home\" />;\n    }\n    const isLoading = this.state.isLoading;\n\n    \n    return (\n      <div>\n        <Form className=\"containers\">\n          <FormGroup>\n            <Label for=\"email\">Email id</Label>\n            <Input\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Enter email\"\n              value={this.state.email}\n              onChange={this.onChangehandler}\n            />\n            <span className=\"text-danger\">{this.state.msg}</span>\n            <span className=\"text-danger\">{this.state.errMsgEmail}</span>\n          </FormGroup>\n          <FormGroup>\n            <Label for=\"password\">Password</Label>\n            <Input\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Enter password\"\n              value={this.state.password}\n              onChange={this.onChangehandler}\n            />\n            <span className=\"text-danger\">{this.state.errMsgPwd}</span>\n          </FormGroup>\n          <p className=\"text-danger\">{this.state.errMsg}</p>\n          <Button\n            className=\"text-center mb-4\"\n            color=\"success\"\n            onClick={this.onSignInHandler}\n          >\n            Sign In\n            {isLoading ? (\n              <span\n                className=\"spinner-border spinner-border-sm ml-5\"\n                role=\"status\"\n                aria-hidden=\"true\"\n              ></span>\n            ) : (\n              <span></span>\n            )}\n          </Button>\n        </Form>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}